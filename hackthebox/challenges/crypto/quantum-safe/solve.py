from token import EQEQUAL
from z3 import *

'''
Current thoughts is that there are 128 possible values for the character
Two integers required for the middle and right values, each of them representing some possible value between 0 and 100
Then create the equations for each of the constraints 
'''
def build_solver():
    s = Solver()
    
    # EQUATIONS START
    r1 = Int('r1')
    r2 = Int('r2')
    r3 = Int('r3')
    x0 = Int('x0')
    s.add(x0 >= 32)
    s.add(x0 <= 128)
    y0 = Int('y0')
    s.add(y0 >= 0)
    s.add(y0 <= 100)
    z0 = Int('z0')
    s.add(z0 >= 0)
    s.add(z0 <= 100)
    s.add( x0*47 + y0*-49 + z0*57 + r1 == -981)
    s.add( x0*-77 + y0*78 + z0*-78 + r2 == 1395)
    s.add( x0*-85 + y0*50 + z0*99 + r3 == -1668)
    x1 = Int('x1')
    s.add(x1 >= 32)
    s.add(x1 <= 128)
    y1 = Int('y1')
    s.add(y1 >= 0)
    s.add(y1 <= 100)
    z1 = Int('z1')
    s.add(z1 >= 0)
    s.add(z1 <= 100)
    s.add( x1*47 + y1*-49 + z1*57 + r1 == 6934)
    s.add( x1*-77 + y1*78 + z1*-78 + r2 == -10059)
    s.add( x1*-85 + y1*50 + z1*99 + r3 == 4270)
    x2 = Int('x2')
    s.add(x2 >= 32)
    s.add(x2 <= 128)
    y2 = Int('y2')
    s.add(y2 >= 0)
    s.add(y2 <= 100)
    z2 = Int('z2')
    s.add(z2 >= 0)
    s.add(z2 <= 100)
    s.add( x2*47 + y2*-49 + z2*57 + r1 == 3871)
    s.add( x2*-77 + y2*78 + z2*-78 + r2 == -5475)
    s.add( x2*-85 + y2*50 + z2*99 + r3 == 3976)
    x3 = Int('x3')
    s.add(x3 >= 32)
    s.add(x3 <= 128)
    y3 = Int('y3')
    s.add(y3 >= 0)
    s.add(y3 <= 100)
    z3 = Int('z3')
    s.add(z3 >= 0)
    s.add(z3 <= 100)
    s.add( x3*47 + y3*-49 + z3*57 + r1 == 4462)
    s.add( x3*-77 + y3*78 + z3*-78 + r2 == -7368)
    s.add( x3*-85 + y3*50 + z3*99 + r3 == -8954)
    x4 = Int('x4')
    s.add(x4 >= 32)
    s.add(x4 <= 128)
    y4 = Int('y4')
    s.add(y4 >= 0)
    s.add(y4 <= 100)
    z4 = Int('z4')
    s.add(z4 >= 0)
    s.add(z4 <= 100)
    s.add( x4*47 + y4*-49 + z4*57 + r1 == 2794)
    s.add( x4*-77 + y4*78 + z4*-78 + r2 == -4413)
    s.add( x4*-85 + y4*50 + z4*99 + r3 == -3461)
    x5 = Int('x5')
    s.add(x5 >= 32)
    s.add(x5 <= 128)
    y5 = Int('y5')
    s.add(y5 >= 0)
    s.add(y5 <= 100)
    z5 = Int('z5')
    s.add(z5 >= 0)
    s.add(z5 <= 100)
    s.add( x5*47 + y5*-49 + z5*57 + r1 == 5175)
    s.add( x5*-77 + y5*78 + z5*-78 + r2 == -7518)
    s.add( x5*-85 + y5*50 + z5*99 + r3 == 3201)
    x6 = Int('x6')
    s.add(x6 >= 32)
    s.add(x6 <= 128)
    y6 = Int('y6')
    s.add(y6 >= 0)
    s.add(y6 <= 100)
    z6 = Int('z6')
    s.add(z6 >= 0)
    s.add(z6 <= 100)
    s.add( x6*47 + y6*-49 + z6*57 + r1 == 3102)
    s.add( x6*-77 + y6*78 + z6*-78 + r2 == -5051)
    s.add( x6*-85 + y6*50 + z6*99 + r3 == -5457)
    x7 = Int('x7')
    s.add(x7 >= 32)
    s.add(x7 <= 128)
    y7 = Int('y7')
    s.add(y7 >= 0)
    s.add(y7 <= 100)
    z7 = Int('z7')
    s.add(z7 >= 0)
    s.add(z7 <= 100)
    s.add( x7*47 + y7*-49 + z7*57 + r1 == 7255)
    s.add( x7*-77 + y7*78 + z7*-78 + r2 == -10884)
    s.add( x7*-85 + y7*50 + z7*99 + r3 == -266)
    x8 = Int('x8')
    s.add(x8 >= 32)
    s.add(x8 <= 128)
    y8 = Int('y8')
    s.add(y8 >= 0)
    s.add(y8 <= 100)
    z8 = Int('z8')
    s.add(z8 >= 0)
    s.add(z8 <= 100)
    s.add( x8*47 + y8*-49 + z8*57 + r1 == 5694)
    s.add( x8*-77 + y8*78 + z8*-78 + r2 == -8016)
    s.add( x8*-85 + y8*50 + z8*99 + r3 == 6237)
    x9 = Int('x9')
    s.add(x9 >= 32)
    s.add(x9 <= 128)
    y9 = Int('y9')
    s.add(y9 >= 0)
    s.add(y9 <= 100)
    z9 = Int('z9')
    s.add(z9 >= 0)
    s.add(z9 <= 100)
    s.add( x9*47 + y9*-49 + z9*57 + r1 == 4160)
    s.add( x9*-77 + y9*78 + z9*-78 + r2 == -6038)
    s.add( x9*-85 + y9*50 + z9*99 + r3 == 2582)
    x10 = Int('x10')
    s.add(x10 >= 32)
    s.add(x10 <= 128)
    y10 = Int('y10')
    s.add(y10 >= 0)
    s.add(y10 <= 100)
    z10 = Int('z10')
    s.add(z10 >= 0)
    s.add(z10 <= 100)
    s.add( x10*47 + y10*-49 + z10*57 + r1 == 4940)
    s.add( x10*-77 + y10*78 + z10*-78 + r2 == -7069)
    s.add( x10*-85 + y10*50 + z10*99 + r3 == 3770)
    x11 = Int('x11')
    s.add(x11 >= 32)
    s.add(x11 <= 128)
    y11 = Int('y11')
    s.add(y11 >= 0)
    s.add(y11 <= 100)
    z11 = Int('z11')
    s.add(z11 >= 0)
    s.add(z11 <= 100)
    s.add( x11*47 + y11*-49 + z11*57 + r1 == 3185)
    s.add( x11*-77 + y11*78 + z11*-78 + r2 == -5158)
    s.add( x11*-85 + y11*50 + z11*99 + r3 == -4939)
    x12 = Int('x12')
    s.add(x12 >= 32)
    s.add(x12 <= 128)
    y12 = Int('y12')
    s.add(y12 >= 0)
    s.add(y12 <= 100)
    z12 = Int('z12')
    s.add(z12 >= 0)
    s.add(z12 <= 100)
    s.add( x12*47 + y12*-49 + z12*57 + r1 == 7669)
    s.add( x12*-77 + y12*78 + z12*-78 + r2 == -11686)
    s.add( x12*-85 + y12*50 + z12*99 + r3 == -2231)
    x13 = Int('x13')
    s.add(x13 >= 32)
    s.add(x13 <= 128)
    y13 = Int('y13')
    s.add(y13 >= 0)
    s.add(y13 <= 100)
    z13 = Int('z13')
    s.add(z13 >= 0)
    s.add(z13 <= 100)
    s.add( x13*47 + y13*-49 + z13*57 + r1 == 5601)
    s.add( x13*-77 + y13*78 + z13*-78 + r2 == -9013)
    s.add( x13*-85 + y13*50 + z13*99 + r3 == -7971)
    x14 = Int('x14')
    s.add(x14 >= 32)
    s.add(x14 <= 128)
    y14 = Int('y14')
    s.add(y14 >= 0)
    s.add(y14 <= 100)
    z14 = Int('z14')
    s.add(z14 >= 0)
    s.add(z14 <= 100)
    s.add( x14*47 + y14*-49 + z14*57 + r1 == 5600)
    s.add( x14*-77 + y14*78 + z14*-78 + r2 == -8355)
    s.add( x14*-85 + y14*50 + z14*99 + r3 == 575)
    x15 = Int('x15')
    s.add(x15 >= 32)
    s.add(x15 <= 128)
    y15 = Int('y15')
    s.add(y15 >= 0)
    s.add(y15 <= 100)
    z15 = Int('z15')
    s.add(z15 >= 0)
    s.add(z15 <= 100)
    s.add( x15*47 + y15*-49 + z15*57 + r1 == 1739)
    s.add( x15*-77 + y15*78 + z15*-78 + r2 == -2838)
    s.add( x15*-85 + y15*50 + z15*99 + r3 == -3037)
    x16 = Int('x16')
    s.add(x16 >= 32)
    s.add(x16 <= 128)
    y16 = Int('y16')
    s.add(y16 >= 0)
    s.add(y16 <= 100)
    z16 = Int('z16')
    s.add(z16 >= 0)
    s.add(z16 <= 100)
    s.add( x16*47 + y16*-49 + z16*57 + r1 == 2572)
    s.add( x16*-77 + y16*78 + z16*-78 + r2 == -4120)
    s.add( x16*-85 + y16*50 + z16*99 + r3 == -3788)
    x17 = Int('x17')
    s.add(x17 >= 32)
    s.add(x17 <= 128)
    y17 = Int('y17')
    s.add(y17 >= 0)
    s.add(y17 <= 100)
    z17 = Int('z17')
    s.add(z17 >= 0)
    s.add(z17 <= 100)
    s.add( x17*47 + y17*-49 + z17*57 + r1 == 8055)
    s.add( x17*-77 + y17*78 + z17*-78 + r2 == -11985)
    s.add( x17*-85 + y17*50 + z17*99 + r3 == 1137)
    x18 = Int('x18')
    s.add(x18 >= 32)
    s.add(x18 <= 128)
    y18 = Int('y18')
    s.add(y18 >= 0)
    s.add(y18 <= 100)
    z18 = Int('z18')
    s.add(z18 >= 0)
    s.add(z18 <= 100)
    s.add( x18*47 + y18*-49 + z18*57 + r1 == 7088)
    s.add( x18*-77 + y18*78 + z18*-78 + r2 == -10247)
    s.add( x18*-85 + y18*50 + z18*99 + r3 == 5141)
    x19 = Int('x19')
    s.add(x19 >= 32)
    s.add(x19 <= 128)
    y19 = Int('y19')
    s.add(y19 >= 0)
    s.add(y19 <= 100)
    z19 = Int('z19')
    s.add(z19 >= 0)
    s.add(z19 <= 100)
    s.add( x19*47 + y19*-49 + z19*57 + r1 == 8384)
    s.add( x19*-77 + y19*78 + z19*-78 + r2 == -12679)
    s.add( x19*-85 + y19*50 + z19*99 + r3 == -1381)
    x20 = Int('x20')
    s.add(x20 >= 32)
    s.add(x20 <= 128)
    y20 = Int('y20')
    s.add(y20 >= 0)
    s.add(y20 <= 100)
    z20 = Int('z20')
    s.add(z20 >= 0)
    s.add(z20 <= 100)
    s.add( x20*47 + y20*-49 + z20*57 + r1 == -785)
    s.add( x20*-77 + y20*78 + z20*-78 + r2 == 1095)
    s.add( x20*-85 + y20*50 + z20*99 + r3 == -1841)
    x21 = Int('x21')
    s.add(x21 >= 32)
    s.add(x21 <= 128)
    y21 = Int('y21')
    s.add(y21 >= 0)
    s.add(y21 <= 100)
    z21 = Int('z21')
    s.add(z21 >= 0)
    s.add(z21 <= 100)
    s.add( x21*47 + y21*-49 + z21*57 + r1 == 4250)
    s.add( x21*-77 + y21*78 + z21*-78 + r2 == -6762)
    s.add( x21*-85 + y21*50 + z21*99 + r3 == -5242)
    x22 = Int('x22')
    s.add(x22 >= 32)
    s.add(x22 <= 128)
    y22 = Int('y22')
    s.add(y22 >= 0)
    s.add(y22 <= 100)
    z22 = Int('z22')
    s.add(z22 >= 0)
    s.add(z22 <= 100)
    s.add( x22*47 + y22*-49 + z22*57 + r1 == 3716)
    s.add( x22*-77 + y22*78 + z22*-78 + r2 == -5364)
    s.add( x22*-85 + y22*50 + z22*99 + r3 == 2126)
    x23 = Int('x23')
    s.add(x23 >= 32)
    s.add(x23 <= 128)
    y23 = Int('y23')
    s.add(y23 >= 0)
    s.add(y23 <= 100)
    z23 = Int('z23')
    s.add(z23 >= 0)
    s.add(z23 <= 100)
    s.add( x23*47 + y23*-49 + z23*57 + r1 == 5673)
    s.add( x23*-77 + y23*78 + z23*-78 + r2 == -7968)
    s.add( x23*-85 + y23*50 + z23*99 + r3 == 6741)
    x24 = Int('x24')
    s.add(x24 >= 32)
    s.add(x24 <= 128)
    y24 = Int('y24')
    s.add(y24 >= 0)
    s.add(y24 <= 100)
    z24 = Int('z24')
    s.add(z24 >= 0)
    s.add(z24 <= 100)
    s.add( x24*47 + y24*-49 + z24*57 + r1 == 5877)
    s.add( x24*-77 + y24*78 + z24*-78 + r2 == -9190)
    s.add( x24*-85 + y24*50 + z24*99 + r3 == -4803)
    x25 = Int('x25')
    s.add(x25 >= 32)
    s.add(x25 <= 128)
    y25 = Int('y25')
    s.add(y25 >= 0)
    s.add(y25 <= 100)
    z25 = Int('z25')
    s.add(z25 >= 0)
    s.add(z25 <= 100)
    s.add( x25*47 + y25*-49 + z25*57 + r1 == 5639)
    s.add( x25*-77 + y25*78 + z25*-78 + r2 == -8865)
    s.add( x25*-85 + y25*50 + z25*99 + r3 == -5356)
    x26 = Int('x26')
    s.add(x26 >= 32)
    s.add(x26 <= 128)
    y26 = Int('y26')
    s.add(y26 >= 0)
    s.add(y26 <= 100)
    z26 = Int('z26')
    s.add(z26 >= 0)
    s.add(z26 <= 100)
    s.add( x26*47 + y26*-49 + z26*57 + r1 == 1980)
    s.add( x26*-77 + y26*78 + z26*-78 + r2 == -3230)
    s.add( x26*-85 + y26*50 + z26*99 + r3 == -3366)
    x27 = Int('x27')
    s.add(x27 >= 32)
    s.add(x27 <= 128)
    y27 = Int('y27')
    s.add(y27 >= 0)
    s.add(y27 <= 100)
    z27 = Int('z27')
    s.add(z27 >= 0)
    s.add(z27 <= 100)
    s.add( x27*47 + y27*-49 + z27*57 + r1 == 6183)
    s.add( x27*-77 + y27*78 + z27*-78 + r2 == -9334)
    s.add( x27*-85 + y27*50 + z27*99 + r3 == -1002)
    x28 = Int('x28')
    s.add(x28 >= 32)
    s.add(x28 <= 128)
    y28 = Int('y28')
    s.add(y28 >= 0)
    s.add(y28 <= 100)
    z28 = Int('z28')
    s.add(z28 >= 0)
    s.add(z28 <= 100)
    s.add( x28*47 + y28*-49 + z28*57 + r1 == 2575)
    s.add( x28*-77 + y28*78 + z28*-78 + r2 == -4068)
    s.add( x28*-85 + y28*50 + z28*99 + r3 == -2828)
    x29 = Int('x29')
    s.add(x29 >= 32)
    s.add(x29 <= 128)
    y29 = Int('y29')
    s.add(y29 >= 0)
    s.add(y29 <= 100)
    z29 = Int('z29')
    s.add(z29 >= 0)
    s.add(z29 <= 100)
    s.add( x29*47 + y29*-49 + z29*57 + r1 == 7521)
    s.add( x29*-77 + y29*78 + z29*-78 + r2 == -11374)
    s.add( x29*-85 + y29*50 + z29*99 + r3 == -1137)
    x30 = Int('x30')
    s.add(x30 >= 32)
    s.add(x30 <= 128)
    y30 = Int('y30')
    s.add(y30 >= 0)
    s.add(y30 <= 100)
    z30 = Int('z30')
    s.add(z30 >= 0)
    s.add(z30 <= 100)
    s.add( x30*47 + y30*-49 + z30*57 + r1 == 5639)
    s.add( x30*-77 + y30*78 + z30*-78 + r2 == -8551)
    s.add( x30*-85 + y30*50 + z30*99 + r3 == -1501)
    x31 = Int('x31')
    s.add(x31 >= 32)
    s.add(x31 <= 128)
    y31 = Int('y31')
    s.add(y31 >= 0)
    s.add(y31 <= 100)
    z31 = Int('z31')
    s.add(z31 >= 0)
    s.add(z31 <= 100)
    s.add( x31*47 + y31*-49 + z31*57 + r1 == 4194)
    s.add( x31*-77 + y31*78 + z31*-78 + r2 == -6039)
    s.add( x31*-85 + y31*50 + z31*99 + r3 == 3213)
    x32 = Int('x32')
    s.add(x32 >= 32)
    s.add(x32 <= 128)
    y32 = Int('y32')
    s.add(y32 >= 0)
    s.add(y32 <= 100)
    z32 = Int('z32')
    s.add(z32 >= 0)
    s.add(z32 <= 100)
    s.add( x32*47 + y32*-49 + z32*57 + r1 == 2072)
    s.add( x32*-77 + y32*78 + z32*-78 + r2 == -3025)
    s.add( x32*-85 + y32*50 + z32*99 + r3 == 383)
    x33 = Int('x33')
    s.add(x33 >= 32)
    s.add(x33 <= 128)
    y33 = Int('y33')
    s.add(y33 >= 0)
    s.add(y33 <= 100)
    z33 = Int('z33')
    s.add(z33 >= 0)
    s.add(z33 <= 100)
    s.add( x33*47 + y33*-49 + z33*57 + r1 == 2444)
    s.add( x33*-77 + y33*78 + z33*-78 + r2 == -3699)
    s.add( x33*-85 + y33*50 + z33*99 + r3 == -502)
    x34 = Int('x34')
    s.add(x34 >= 32)
    s.add(x34 <= 128)
    y34 = Int('y34')
    s.add(y34 >= 0)
    s.add(y34 <= 100)
    z34 = Int('z34')
    s.add(z34 >= 0)
    s.add(z34 <= 100)
    s.add( x34*47 + y34*-49 + z34*57 + r1 == 6313)
    s.add( x34*-77 + y34*78 + z34*-78 + r2 == -9653)
    s.add( x34*-85 + y34*50 + z34*99 + r3 == -2447)
    x35 = Int('x35')
    s.add(x35 >= 32)
    s.add(x35 <= 128)
    y35 = Int('y35')
    s.add(y35 >= 0)
    s.add(y35 <= 100)
    z35 = Int('z35')
    s.add(z35 >= 0)
    s.add(z35 <= 100)
    s.add( x35*47 + y35*-49 + z35*57 + r1 == 4502)
    s.add( x35*-77 + y35*78 + z35*-78 + r2 == -7090)
    s.add( x35*-85 + y35*50 + z35*99 + r3 == -4435)
    x36 = Int('x36')
    s.add(x36 >= 32)
    s.add(x36 <= 128)
    y36 = Int('y36')
    s.add(y36 >= 0)
    s.add(y36 <= 100)
    z36 = Int('z36')
    s.add(z36 >= 0)
    s.add(z36 <= 100)
    s.add( x36*47 + y36*-49 + z36*57 + r1 == -421)
    s.add( x36*-77 + y36*78 + z36*-78 + r2 == 894)
    s.add( x36*-85 + y36*50 + z36*99 + r3 == 2912)
    x37 = Int('x37')
    s.add(x37 >= 32)
    s.add(x37 <= 128)
    y37 = Int('y37')
    s.add(y37 >= 0)
    s.add(y37 <= 100)
    z37 = Int('z37')
    s.add(z37 >= 0)
    s.add(z37 <= 100)
    s.add( x37*47 + y37*-49 + z37*57 + r1 == 4667)
    s.add( x37*-77 + y37*78 + z37*-78 + r2 == -7142)
    s.add( x37*-85 + y37*50 + z37*99 + r3 == -2266)
    x38 = Int('x38')
    s.add(x38 >= 32)
    s.add(x38 <= 128)
    y38 = Int('y38')
    s.add(y38 >= 0)
    s.add(y38 <= 100)
    z38 = Int('z38')
    s.add(z38 >= 0)
    s.add(z38 <= 100)
    s.add( x38*47 + y38*-49 + z38*57 + r1 == 4228)
    s.add( x38*-77 + y38*78 + z38*-78 + r2 == -6616)
    s.add( x38*-85 + y38*50 + z38*99 + r3 == -3749)
    x39 = Int('x39')
    s.add(x39 >= 32)
    s.add(x39 <= 128)
    y39 = Int('y39')
    s.add(y39 >= 0)
    s.add(y39 <= 100)
    z39 = Int('z39')
    s.add(z39 >= 0)
    s.add(z39 <= 100)
    s.add( x39*47 + y39*-49 + z39*57 + r1 == 6258)
    s.add( x39*-77 + y39*78 + z39*-78 + r2 == -9719)
    s.add( x39*-85 + y39*50 + z39*99 + r3 == -4407)
    x40 = Int('x40')
    s.add(x40 >= 32)
    s.add(x40 <= 128)
    y40 = Int('y40')
    s.add(y40 >= 0)
    s.add(y40 <= 100)
    z40 = Int('z40')
    s.add(z40 >= 0)
    s.add(z40 <= 100)
    s.add( x40*47 + y40*-49 + z40*57 + r1 == 6044)
    s.add( x40*-77 + y40*78 + z40*-78 + r2 == -9561)
    s.add( x40*-85 + y40*50 + z40*99 + r3 == -6463)
    x41 = Int('x41')
    s.add(x41 >= 32)
    s.add(x41 <= 128)
    y41 = Int('y41')
    s.add(y41 >= 0)
    s.add(y41 <= 100)
    z41 = Int('z41')
    s.add(z41 >= 0)
    s.add(z41 <= 100)
    s.add( x41*47 + y41*-49 + z41*57 + r1 == 266)
    s.add( x41*-77 + y41*78 + z41*-78 + r2 == -423)
    s.add( x41*-85 + y41*50 + z41*99 + r3 == -637)
    x42 = Int('x42')
    s.add(x42 >= 32)
    s.add(x42 <= 128)
    y42 = Int('y42')
    s.add(y42 >= 0)
    s.add(y42 <= 100)
    z42 = Int('z42')
    s.add(z42 >= 0)
    s.add(z42 <= 100)
    s.add( x42*47 + y42*-49 + z42*57 + r1 == 3849)
    s.add( x42*-77 + y42*78 + z42*-78 + r2 == -6223)
    s.add( x42*-85 + y42*50 + z42*99 + r3 == -5988)
    x43 = Int('x43')
    s.add(x43 >= 32)
    s.add(x43 <= 128)
    y43 = Int('y43')
    s.add(y43 >= 0)
    s.add(y43 <= 100)
    z43 = Int('z43')
    s.add(z43 >= 0)
    s.add(z43 <= 100)
    s.add( x43*47 + y43*-49 + z43*57 + r1 == 5809)
    s.add( x43*-77 + y43*78 + z43*-78 + r2 == -9021)
    s.add( x43*-85 + y43*50 + z43*99 + r3 == -4115)
    x44 = Int('x44')
    s.add(x44 >= 32)
    s.add(x44 <= 128)
    y44 = Int('y44')
    s.add(y44 >= 0)
    s.add(y44 <= 100)
    z44 = Int('z44')
    s.add(z44 >= 0)
    s.add(z44 <= 100)
    s.add( x44*47 + y44*-49 + z44*57 + r1 == 4794)
    s.add( x44*-77 + y44*78 + z44*-78 + r2 == -7128)
    s.add( x44*-85 + y44*50 + z44*99 + r3 == 918)
    x45 = Int('x45')
    s.add(x45 >= 32)
    s.add(x45 <= 128)
    y45 = Int('y45')
    s.add(y45 >= 0)
    s.add(y45 <= 100)
    z45 = Int('z45')
    s.add(z45 >= 0)
    s.add(z45 <= 100)
    s.add( x45*47 + y45*-49 + z45*57 + r1 == 6340)
    s.add( x45*-77 + y45*78 + z45*-78 + r2 == -9442)
    s.add( x45*-85 + y45*50 + z45*99 + r3 == 892)
    x46 = Int('x46')
    s.add(x46 >= 32)
    s.add(x46 <= 128)
    y46 = Int('y46')
    s.add(y46 >= 0)
    s.add(y46 <= 100)
    z46 = Int('z46')
    s.add(z46 >= 0)
    s.add(z46 <= 100)
    s.add( x46*47 + y46*-49 + z46*57 + r1 == 5322)
    s.add( x46*-77 + y46*78 + z46*-78 + r2 == -8614)
    s.add( x46*-85 + y46*50 + z46*99 + r3 == -8334)

    # EQUATIONS END
    for i in range(-10000, 10000):
        s.push()
        s.add(r1 == i)

        if s.check() == sat:
            ret = s.model()
            flag = [ret[x0],ret[x1],ret[x2],ret[x3],ret[x4],ret[x5],ret[x6],ret[x7],ret[x8],ret[x9],ret[x10],ret[x11],ret[x12],ret[x13],ret[x14],ret[x15],ret[x16],ret[x17],ret[x18],ret[x19],ret[x20],ret[x21],ret[x22],ret[x23],ret[x24],ret[x25],ret[x26],ret[x27],ret[x28],ret[x29],ret[x30],ret[x31],ret[x32],ret[x33],ret[x34],ret[x35],ret[x36],ret[x37],ret[x38],ret[x39],ret[x40],ret[x41],ret[x42],ret[x43],ret[x44],ret[x45],ret[x46]]
            flag = ''.join(chr(int(str(i))) for i in flag)
            if 'HTB' in flag:
                print(flag)
                exit(0)
            # return flag, [ret[r1], ret[r2], ret[r3]]
        s.pop()
        


def meta_build_eq(enc_list):
    equations_needed = []
    x = 'x'
    y = 'y'
    z = 'z'
    variables = ['x', 'y', 'z']

    # matrix = [
    #     [47, -77, -85],
    #     [-49, 78, 50],
    #     [57, -78, 99]
    # ]
    equations_needed.append("r1 = Int(\'r1\')")
    equations_needed.append("r2 = Int(\'r2\')")
    equations_needed.append("r3 = Int(\'r3\')")
    for i in range(47):
        for v in variables:
            vi = v + str(i)
            eq1 = vi + " = Int(\'" + vi + "\')"
            if v == 'x':
                eq2 = "s.add(" + vi + " >= 32)" 
                eq3 = "s.add(" + vi + " <= 128)" 
            else:
                eq2 = "s.add(" + vi + " >= 0)" 
                eq3 = "s.add(" + vi + " <= 100)"
            equations_needed += [eq1, eq2, eq3]

        # x0*47 + y0*-49 + z0*57 + r1 == 6934
        equation = "s.add( " + x + str(i) + "*47 + " + y + str(i) + "*-49 + " + z + str(i) + "*57 + " + "r1 == " + str(enc_list[i][0]) + ")"
        equations_needed.append(equation)

        # x*-77 + y*78 + z*-78 + r2 == -11686
        equation = "s.add( " + x + str(i) + "*-77 + " + y + str(i) + "*78 + " + z + str(i) + "*-78 + " + "r2 == " + str(enc_list[i][1]) + ")"
        equations_needed.append(equation)

        # x*-85 + y*50 + z*99 + r3 == -2231,
        equation = "s.add( " + x + str(i) + "*-85 + " + y + str(i) + "*50 + " + z + str(i) + "*99 + " + "r3 == " + str(enc_list[i][2]) + ")"
        equations_needed.append(equation)

    return equations_needed


def main():

    # Getting the values
    enc = open('./enc.txt', 'r').read().split('\n')
    enc_list = []
    for i,v in enumerate(enc):
        enc_list.append(eval(v))
    
    equations_needed = meta_build_eq(enc_list)
    # for i in equations_needed:
        # print(i)

    flag, r_vals = build_solver()
    print(r_vals)
    print(''.join(chr(int(str(i))) for i in flag))
    

if __name__ == '__main__':
    main()

